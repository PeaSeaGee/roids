<html>
    <head>
        <title>Readable ObjectIDs</title>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css"/>
        <link href="https://fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
        <style>
            .container {
                margin-top: 10rem;
            }
            .row {
                margin-top: 1rem;
            }
            input {
                font-size: 3rem;
            }
        </style>
        <script type="text/javascript">
            function hex2emoji() {
                //get elements, perhaps I should DRY later?
                var hexEl = document.getElementById("hexInput");
                var emojiEl = document.getElementById("emojiInput");
                var hexString = hexEl.value;
                var emojiString = ""; //init!
                //make sure it's an even number of characters
                // TODO: make sure it's all legal hex characters :troll:
                if (hexString.length % 2 != 0) {
                    hexString = hexString + "0";
                    hexEl.value = hexString;
                }
                var strIdx;
                for (strIdx = 0; strIdx <= hexString.length-1; strIdx += 2) {
                    var currByte = hexString.substring(strIdx,strIdx+2);
                    emojiString = emojiString + String.fromCodePoint("0x1f4"+currByte);
                }
                //write to the <input> and sin no more
                emojiEl.value = emojiString;
            };
            function emoji2hex() {
                //get elements, perhaps I should DRY later?
                var hexEl = document.getElementById("hexInput");
                var emojiEl = document.getElementById("emojiInput");
                var emojiString = emojiEl.value;
                var hexString = ""; //init!
                var strIdx;
                for (strIdx = 0; strIdx <= emojiString.length-1; strIdx += 2) {
                    var currCP = emojiString.codePointAt(strIdx);
                    var cpStr = currCP.toString(16); //need hex version of the code point to pull out the LSB
                    var currByte = cpStr.substring(cpStr.length-2)
                    hexString = hexString + currByte;
                }
                hexEl.value=hexString;
            } ;  
        </script>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="twelve columns"><center><h1>Readable ObjectIDs</h1></center></div>
            </div>
            <div class="row">
                <div class="twelve columns"><center><input id="hexInput" type="text" onblur="hex2emoji();" size="60%"></center></div>
            </div>
            <div class="row">
                <div class="twelve columns"><center><input id="emojiInput" type="text" onblur="emoji2hex();" size="60%"></center></div>
            </div>
        </div>
    </body>
</html>